import unittest

from html_parsers import parse_html_saverudata


class MyTestCase(unittest.TestCase):
    def test_saverudata(self):
        html = """<div><b>Телефон:</b> 79277565050<br><span class="icon-fb" title="Facebook"></span><b>ID профиля Facebook:</b><a href="https://www.facebook.com/profile.php?id=100006734109790" class="nw" target="_blank">100006734109790</a><br><span class="icon-yandex" title="Yandex Eda"></span><b>Имя:</b> Александр <br><span class="icon-yandex" title="Yandex Eda"></span><b>Яндекс Еда:</b> потрачено за 6 мес 8590 руб<br><span class="icon-yandex" title="Yandex Eda"></span><b>Заказы:</b> Самара 1-я просека дом 37 кв 8<br><span class="icon-yandex" title="Yandex Eda"></span><b>&nbsp;1. </b>2021-06-20T11:31:11.000Z - 0 руб<br><span class="icon-2berega" title="2 берега"></span><b>Имя:</b> Александр<br><span class="icon-2berega" title="2 берега "></span><b>2 берега:</b> потрачено за 7 мес 2156 руб<br><span class="icon-2berega" title="2 берега "></span><b>Заказы:</b> Самара, 1-я просека, 37, кв. 8, этаж 2<br><span class="icon-2berega" title="2 берега "></span><b>&nbsp;1. </b>2022-01-28T02:11:33.640Z - 1078 руб<br><span class="icon-delivery2" title="Delivery Club"></span><b>Имя:</b> Александр<br><span class="icon-delivery2" title="Delivery Club"></span><b>Delivery Club:</b> потрачено 1823 руб<br><span class="icon-delivery2" title="Delivery Club"></span><b>Заказы:</b> Самара 1-я просека дом 37, этаж 1 (Самара, 1-я просека, 37)<br><span class="icon-delivery2" title="Delivery Club"></span><b>&nbsp;1. </b><span title="Europe/Samara">2020-08-31T02:56:05+00:00</span> - <span>1035 руб</span> (SFC)<br>1шт Салат "Цезарь" 250 г;1шт Запеченный донер-кебаб курица (острый) 300 г;1шт Креветки в панировке 9 шт;1шт Соус чесночный 50 г;1шт Гриль-бург с курицей 400 г;<br><span class="icon-delivery2" title="Delivery Club"></span>&nbsp;&nbsp;&nbsp;IP: 85.26.234.53<br><span class="icon-cdek" title="СДЭК"></span><b>Имя в СДЭК:</b> Власов Александр Александрович<br><span class="icon-cdek" title="СДЭК"></span><b>Email:</b> vlasov.alexander1999@gmail.com<br><a class="nw" href="/#/?n=79277565050" target="_blank">полное досье</a></div>"""
        result = parse_html_saverudata([html])[0]
        should_be = {'phone': ' 79277565050', 'Facebook': {'ID профиля Facebook:': '100006734109790 \n'}, 'Yandex Eda': {'Имя:': 'Александр \n', 'Яндекс Еда:': 'потрачено за 6 мес 8590 руб \n', 'Заказы:': 'Самара 1-я просека дом 37 кв 8 \n', '1.': '2021-06-20T11:31:11.000Z - 0 руб \n'}, '2 берега': {'Имя:': 'Александр \n'}, '2 берега ': {'2 берега:': 'потрачено за 7 мес 2156 руб \n', 'Заказы:': 'Самара, 1-я просека, 37, кв. 8, этаж 2 \n', '1.': '2022-01-28T02:11:33.640Z - 1078 руб \n'}, 'Delivery Club': {'Имя:': 'Александр \n', 'Delivery Club:': 'потрачено 1823 руб \n', 'Заказы:': 'Самара 1-я просека дом 37, этаж 1 (Самара, 1-я просека, 37) \n', '1.': '2020-08-31T02:56:05+00:00 - 1035 руб (SFC) 1шт Салат "Цезарь" 250 г;1шт Запеченный донер-кебаб курица (острый) 300 г;1шт Креветки в панировке 9 шт;1шт Соус чесночный 50 г;1шт Гриль-бург с курицей 400 г; 1шт Салат "Цезарь" 250 г;1шт Запеченный донер-кебаб курица (острый) 300 г;1шт Креветки в панировке 9 шт;1шт Соус чесночный 50 г;1шт Гриль-бург с курицей 400 г; \n', 'IP': ' 85.26.234.53\n'}, 'СДЭК': {'Имя в СДЭК:': 'Власов Александр Александрович \n', 'Email:': 'vlasov.alexander1999@gmail.com \n'}}

        self.assertEqual(result, should_be)  # add assertion here


if __name__ == '__main__':
    unittest.main()
